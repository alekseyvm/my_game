<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Своя Игра - Настройка</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo">
                <img src="images/fml366_200.png" alt="ФМЛ 366">
                <h1>Своя Игра</h1>
            </div>
        </div>
    </header>

    <main class="setup-container">
        <div class="setup-card">
            <h2>Настройка игры</h2>
            
            <div class="form-group">
                <label for="playerCount">Количество игроков (2-6):</label>
                <input type="number" id="playerCount" min="2" max="6" value="2">
            </div>

            <div id="playerNames" class="player-names">
                <!-- Поля для имен игроков будут добавлены динамически -->
            </div>

            <button id="startGame" class="btn btn-primary">Начать игру</button>
        </div>
    </main>

    <footer>
        <p>Разработано для образовательных целей | 2025</p>
    </footer>

    <script src="js/data.js"></script>
    <script>
        const playerCountInput = document.getElementById('playerCount');
        const playerNamesContainer = document.getElementById('playerNames');
        const startGameButton = document.getElementById('startGame');

        // Генерация полей для имен игроков
        function generatePlayerInputs(count) {
            playerNamesContainer.innerHTML = '';
            for (let i = 1; i <= count; i++) {
                const div = document.createElement('div');
                div.className = 'form-group';
                div.innerHTML = `
                    <label for="player${i}">Имя игрока ${i}:</label>
                    <input type="text" id="player${i}" placeholder="Игрок ${i}" value="Игрок ${i}">
                `;
                playerNamesContainer.appendChild(div);
            }
        }

        // Инициализация
        generatePlayerInputs(2);

        // Обработчик изменения количества игроков
        playerCountInput.addEventListener('change', (e) => {
            const count = parseInt(e.target.value);
            if (count >= 2 && count <= 6) {
                generatePlayerInputs(count);
            }
        });

        // Начало игры
        startGameButton.addEventListener('click', () => {
            const playerCount = parseInt(playerCountInput.value);
            if (playerCount < 2 || playerCount > 6) {
                alert('Количество игроков должно быть от 2 до 6');
                return;
            }

            const players = [];
            for (let i = 1; i <= playerCount; i++) {
                const name = document.getElementById(`player${i}`).value.trim();
                if (!name) {
                    alert(`Введите имя для игрока ${i}`);
                    return;
                }
                players.push({
                    id: i,
                    name: name,
                    score: 0
                });
            }

            // Сохранение состояния игры
            const gameState = {
                players: players,
                currentPlayer: 0,
                currentQuestion: null,
                answeredQuestions: [],
                gameStatus: 'playing'
            };

            localStorage.setItem('gameState', JSON.stringify(gameState));
            window.location.href = 'game.html';
        });
    </script>
</body>
</html>
